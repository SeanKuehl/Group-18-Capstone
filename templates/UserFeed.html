{% extends "base.html" %}

{% block title %} {% endblock %}

{% block content %}

<style>
  .post-container {
      background-color: RoyalBlue;
      padding: 10px;
      margin: 10px 0;
      color: white;
      text-align: center;
  }

  /* removes the hyperlink styling (i.e., the underline and blue text) */
  .post-container h3 a {
      color: white;
      text-decoration: none;
  }

  .post-container a {
      color: white;
      text-decoration: none;
  }

</style>

{% for post in posts %}
  <div class="post-container">
    <h3><a href="{% url 'post_detail' post.pk 0 %}">{{ post.post_title }}</a></h3>
    <small>
        {{ post.created_on.date }} | 
        {% if post.accountname %}
            <a href="{% url 'user_account' post.accountname.pk %}">
                {{ post.accountname.account_name }}
            </a>
        {% else %}
            <!-- Link to superuser account page -->
            <a href="{% url 'user_account' '0' %}">Superuser</a>
        {% endif %}
        | Tags:
        {% for tag in post.tags.all %}
            <a href="{% url 'post_tag' tag.name %}">
                {{ tag.name }}
            </a>
        {% endfor %}
    </small>
    <p>{{ post.post_body | slice:":400" }}...</p>


    {% if admin %}
      <p>This post has been reported: {{post.reported_count}} times</p>
      <a href="{% url 'remove_post' post.pk %}">
        <button>Remove Post</button>
      </a>
    {% endif %}
  </div>


{% endfor %}
{% endblock %}